{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["//Ключ для збереження даних  у lokal\nconst STORAGE_KEY = 'feedback-form-state';\n\n\nconst formRefs = document.querySelector('.feedback-form');\nconst formInput = document.querySelector('input[name=\"email\"]');\nconst formMessage = document.querySelector('textarea[name=\"message\"]');\n\n//об'єкт для збереження даних форми\nconst formData = { \n    email: '', \n    message: '',\n};\n\nconst saveToLocalStorage = (key, value) => {\n    localStorage.setItem(key, JSON.stringify(value));\n}\n\n//f для отримання данних з localStorage\nconst loadFromLS = key => {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : null;\n};\n// оновлення значень полів форми\nconst updateForm = () => {\n    formInput.value = formData.email;\n    formMessage.value = formData.message;\n};\n\n// відстеження події input на формі\nformRefs.addEventListener('input', event => {\n    const {name, value} = event.target;\n    formData[name] = value.trim();\n    saveToLocalStorage(STORAGE_KEY, formData);\n});\n\n\n// завантаження даних з LS при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n    const saveData = loadFromLS(STORAGE_KEY);\n    if(saveData) {\n        formData.email = saveData.email || '';\n        formData.message = saveData.message || '';\n        updateForm();\n    }\n});\n\nformRefs.addEventListener('submit', event => {\n    event.preventDefault();\n    if(!formData.email || !formData.message) {\n        alert('Fill please all fields');\n    return;\n    }\n    console.log(formData);\n    localStorage.removeItem(STORAGE_KEY);\n    formData.email = '';\n    formData.message = '';\n    formRefs.requestFullscreen();\n\n});"],"names":["STORAGE_KEY","formRefs","formInput","formMessage","formData","saveToLocalStorage","key","value","loadFromLS","data","updateForm","event","name","saveData"],"mappings":"oDACA,MAAMA,EAAc,sBAGdC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAY,SAAS,cAAc,qBAAqB,EACxDC,EAAc,SAAS,cAAc,0BAA0B,EAG/DC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAqB,CAACC,EAAKC,IAAU,CACvC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACnD,EAGMC,EAAaF,GAAO,CACtB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,OAAOG,EAAO,KAAK,MAAMA,CAAI,EAAI,IACrC,EAEMC,EAAa,IAAM,CACrBR,EAAU,MAAQE,EAAS,MAC3BD,EAAY,MAAQC,EAAS,OACjC,EAGAH,EAAS,iBAAiB,QAASU,GAAS,CACxC,KAAM,CAAC,KAAAC,EAAM,MAAAL,CAAK,EAAII,EAAM,OAC5BP,EAASQ,CAAI,EAAIL,EAAM,KAAI,EAC3BF,EAAmBL,EAAaI,CAAQ,CAC5C,CAAC,EAID,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMS,EAAWL,EAAWR,CAAW,EACpCa,IACCT,EAAS,MAAQS,EAAS,OAAS,GACnCT,EAAS,QAAUS,EAAS,SAAW,GACvCH,IAER,CAAC,EAEDT,EAAS,iBAAiB,SAAUU,GAAS,CAEzC,GADAA,EAAM,eAAc,EACjB,CAACP,EAAS,OAAS,CAACA,EAAS,QAAS,CACrC,MAAM,wBAAwB,EAClC,MACC,CACD,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWJ,CAAW,EACnCI,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBH,EAAS,kBAAiB,CAE9B,CAAC"}